## 动画：TCP 四次挥手

### 写在前边

大家好，我们又见面了，做为一个业余的动画师，上次的用动画的形式讲解 TCP 三次握手过程再各大平台收到了广大读者的喜爱，说文章有趣、有货、有内容，也受到了很多读者的关注。很多读者留言说什么时候用动画讲一讲 TCP 四次挥手的过程，为了应大家的要求，今天我们就生动有趣的用动画给大家分享 TCP 四次挥手（分手）过程。



#### [TCP 三次握手过程](https://github.com/luxiangqiang/Blog/blob/master/articel/网络原理/TCP 之三次握手.md)



上次的三次握手动画是给面试官看的，那么今天咱们换种更加有乐趣的方式，用动画和你女(男)朋友讲解 TCP 四次分手过程，讲解完，考验一下你女（男）朋友和不和你分手呢。什么？首先你先有一个女（男）朋友，这一点小鹿早就考虑到了各大单身人士。



**获取方式:**

> 如果你没有女朋友，公众号后台回复“女朋友”，即可获取。小鹿不要脸的说，作为一个优秀的动画师，女性读者也是很多的，哈哈，公众号回复“男朋友”，小鹿会给你随机发放一个，嘿嘿，不信你试试。还等什么，把你女（男）朋友拉过来给她（他）讲吧。



### 一、思维导图

[](https://github.com/luxiangqiang/Blog/blob/master/articel/网络原理/images/思维导图.png)



### 二、为何要进行 TCP 三次握手/四次分手？

TCP 的三次握手和四次分手和你恋爱是一模一样的，从相识到相恋到分手，然后认识另一个女孩再不管重复这个过程就是数据传输在网络中不断建立起三次握手和四次分手过程。

恋爱就恋爱吧，分手就分手吧，握手握来握去，挥手挥来挥去不嫌麻烦吗？

因为上篇文章 TCP 三次握手中的为什么要进行三次握手部分讲解的不怎么详细，小鹿课下就收集了一些资料，做了一个总结，在这里补充下。



#### 2.1 为什么要进行三次握手？

> 在谢希仁著《计算机网络》第四版中讲“三次握手”的目的是“为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误”。

举个简单易懂的例子，你在微信对一个女孩表白，这条信息由于网络问题延迟发送了。



然后此时你不耐烦了，去和微信另一个女孩表白，然后另一个女孩告诉你同意了，然后你心里很高兴，把高兴的心情分享给了女孩，女孩知道了你和她在一起很高兴，此时三次握完毕，你恋爱了。



突然，到了第二天，发给第一个女孩的信息才收到，女孩认为你要和他表白，此时你已经和另一个女孩恋爱了，然后第一个女孩给你发微信同意了你的表白，但是你不理睬，那个女孩还在苦苦等待你给她分享此时的高兴心情。现在我们发现如果没有分享高兴的心情给女孩（也就是第三次握手过程），那么那个女孩一直等待，白白浪费了心思，所谓的千年都等不了一回。


如果你是客户端，女孩是服务端，服务端收到延迟的报文，以为你要和它连接，所以会给你发送确认同意连接，但你一直不搭理它，所以服务端的资源也就这么白白浪费掉了。所以知道为什么要进行三次握手了吧。



> 在《计算机网络》书中讲“三次握手”的目的是为了解决“网络中存在延迟的重复分组”的问题。

































